{"version":3,"sources":["components/FileUploadModal/FileUploadModal.module.css","assets/logo.svg","config.js","components/Sidebar/Sidebar.js","util/fileutil.js","components/FileCard/FileCard.js","api/storage.js","components/InfoModal/InfoModal.js","components/FileExplorer/firebase.js","components/FileExplorer/FileExplorer.js","components/GoogleAuth/GoogleAuth.js","components/FileUploadModal/FileUploadModal.js","components/FolderCreationModal/FolderCreationModal.js","components/SettingsModal/SettingsModal.js","components/PlanModal/PlanModal.js","components/App/App.js","serviceWorker.js","index.js"],"names":["module","exports","_ref","profile","openFileUpload","openFolderCreator","openSettings","openData","openPlan","React","createElement","Sidebar","as","Menu","icon","inverted","vertical","visible","width","style","background","padding","display","Image","src","height","left","Item","Icon","name","onClick","signOut","window","gapi","auth2","getAuthInstance","localStorage","clear","location","reload","formatBytes","bytes","decimals","arguments","length","undefined","k","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","formatDatetime","date","tzOffsetMs","Date","getTimezoneOffset","toISOString","slice","replace","FileCard","cardType","isFolder","size","count","fileType","lastMod","isDimmed","checkIsPublic","onDelete","onRename","onMove","onClickItem","onInfo","onDownload","onDownloadRedacted","onSetPublic","isPublic","setIsPublic","useState","fileIcon","find","mimeType","startsWith","getIconByMIMEType","imageIcon1","imageIcon","substring","List","className","verticalAlign","Content","Dimmer","Dimmable","dimmed","active","Header","href","Dropdown","async","text","disabled","Divider","Description","concat","Fragment","Card","Meta","extra","CountUp","start","end","separator","suffix","ButtonGroup","basic","Button","axios","axiosLib","create","baseURL","config","reqConfig","obj","headers","idToken","getFiles","get","this","getFilesSearch","todo","toUpperCase","post","path","head","getTime","then","res","status","catch","setPublicOrPrivate","filepath","pub","getSharableUrl","download","data","getSharableUrlRedacted","addFolder","folderpath","deleteFile","moveFile","destination","getNewUploadPolicy","fileContentType","fileSize","postFile","uploadPolicy","file","progressCb","FormData","key","value","Object","entries","fields","append","cancelTokenSource","CancelToken","source","url","onUploadProgress","p","loaded","total","cancelToken","token","cancel","getSettings","settings","getPlan","JSON","parse","stringify","plan","saveSettings","getData","id","getData2","InfoModal","open","closeModal","idarquivo","infodata","setData","notLoaded","setNotLoaded","setarData","tabela2","setarString","quote_name","quote_phone","quote_email","quote_birth","quote_gender","quote_marital","quote_address","quote_cpf","quote_ethnic","quote_medical","total_names","tabela","useEffect","api","s","useData","dados","forEach","dado","push","quote","elementCounts","Set","map","filter","str","x","labels","datasets","backgroundColor","borderColor","borderWidth","console","highlight","ChartJS","register","ArcElement","Tooltip","Legend","oi","toString","Modal","onClose","close","centered","dimmer","image","scrolling","Loader","position","marginBottom","Doughnut","rowSpan","colSpan","Actions","primary","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","getAnalytics","getFirestore","FileExplorer","setExplorerPath","doRefresh","didRefresh","todos","setTodos","fetchPost","getDocs","collection","querySnapshot","newData","docs","doc","state","setState","loading","loadingError","busca","bucketName","setPathState","fileState","setFileState","files","setFiles","view","setView","ignoringFileStructure","setIgnoringFileStructure","deletionState","setDeletionState","saving","error","fileToRename","setFileToRename","renameInputValue","setRenameInputValue","searchInputValue","setSearchInputValue","fileToMove","setFileToMove","fileMoveDestination","setFileMoveDestination","setPath","filesInPath","ignoreFileStructure","endsWith","splitPath","split","includes","sort","first","second","_ref2","resultados","stringdividir","split_caminho","indexOf","u","lastIndexOf","quantia_geral","quantia","j","item","bucket","q","query","ver","onSnapshot","snapshot","docChanges","change","type","arquivo_curto","nome_curto","owner","paginas","totalpages","entidade","entity","documento","toast","info","theme","moveToParent","destFolder","join","success","Promise","reject","dark","fileCards","contentType","updated","navigator","clipboard","writeText","draggable","closeOnClick","autoClose","duration","publicDownload","downloadLink","fileRedacted","color","refreshing","Input","placeholder","onChange","e","target","Select","compact","options","defaultValue","_ref3","Breadcrumb","Section","link","folderName","folderDepth","Message","negative","divided","relaxed","Group","textAlign","fontWeight","deleted","err","Form","Field","renameFile","newFilePath","Portal","closeOnDocumentClick","Segment","justifyContent","content","GoogleAuth","setIdToken","setProfile","setOpen","signingIn","setSigningIn","setError","onSuccess","isSignedIn","user","gauth","currentUser","getBasicProfile","tokenObj","getAuthResponse","hasGrantedScopes","id_token","getName","imageUrl","getImageUrl","email","getEmail","load","init","listen","margin","signIn","uploadCancelFunc","initialUploadState","progress","totalProgress","totalUploadSize","totalUploadedSize","uploading","folderUpload","uploadCancelled","uploadStateReducer","action","betweenSteps","round","rawProgress","amount","FileUploadModal","fileInput","createRef","dispatch","useReducer","fileList","styles","fileListName","Checkbox","toggle","label","checked","fileInputContainer","multiple","webkitdirectory","mozdirectory","msdirectory","odirectory","directory","ref","event","parentPath","fileArray","Array","from","fileName","webkitRelativePath","File","folderPaths","fileParentFolder","current","click","marginRight","Progress","percent","shouldBePublic","defaultPublicFiles","handleStepFail","message","uploadPromise","cancelFunc","doBreak","isCancel","setTimeout","errorMessage","FolderUploadModal","folderPath","setFolderPath","setSaving","createFolder","saved","SettingsModal","setSettings","useSettings","labelPosition","inline","privateUrlExpiration","currentTarget","Label","cdnAdmins","PlanModal","plans","setPlan","planNotLoaded","usePlan","TreeMenu","App","explorerPath","refreshExplorer","fileUploadOpen","setFileUploadOpen","folderCreatorOpen","setFolderCreatorOpen","settingsOpen","setSettingsOpen","planOpen","setPlanOpen","dataOpen","setDataOpen","Auth","t","FolderCreationModal","ToastContainer","hideProgressBar","newestOnTop","rtl","pauseOnFocusLoss","pauseOnHover","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1669a0b0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropzone\":\"FileUploadModal_dropzone__1ap60\",\"fileListName\":\"FileUploadModal_fileListName__2FEmF\",\"fileList\":\"FileUploadModal_fileList__cSyod\",\"fileInputContainer\":\"FileUploadModal_fileInputContainer__24U5S\"};","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","// Duplicate and remove the underscore from this file and add your google oauth ID and API endpoint below before building\n\nexport default {\n  googleClientId: '493578038860-h873lkid4f60jv8or3s4s840b03qj95q.apps.googleusercontent.com', // The OAUTH client ID for your file browser\n  APIEndpoint: 'https://southamerica-east1-chequei.cloudfunctions.net/lgpdrive', // The URL to the cloud function\n  CDN_URL: 'https://lgpdrive.neogov.com.br/', // The base URL to your CDN or bucket. This might be a custom subdomain or https://bucket-name.storage.googleapis.com/ if you don't have a CDN.\n  BucketUrl: 'https://storage.googleapis.com/saosimao_entrada/', // This is used to bypass the cache on your CDN. ONLY replace the YOUR-BUCKET-NAME part with the name of your bucket.\n  appName: 'LGPDrive' // The name that appears at the top of the app menu.\n}\n","import React from 'react'\nimport { Header, Icon, Menu, Sidebar, Segment, Image } from 'semantic-ui-react'\nimport config from '../../config'\n\nexport default ({ profile, openFileUpload, openFolderCreator, openSettings, openData, openPlan }) => {\n\n  const signOut = () => {\n    window.gapi.auth2.getAuthInstance().signOut()\n    localStorage.clear()\n    window.location.reload()\n  }\n\n  return (\n    <Sidebar\n      as={Menu}\n      icon='labeled'\n      inverted\n      vertical\n      visible\n      width='thin'\n      style={{ background: 'linear-gradient(180deg,#4e73df 10%,#224abe 100%)', width: '14rem' }}\n    >\n      <div style={{padding: '1.5rem 1rem', display: 'flex'}}>\n      <Image src='https://neogov.com.br/lgpdweb/assets_login/img/neogov.png' style={{height: '39px'}} />\n      <Image src='https://neogov.com.br/lgpdweb/assets_login/img/LGPDRIVE.png' style={{width: '130px ', height: '5px !important', left: '2px'}} />\n      </div>\n      <Menu.Item as='a'>\n        <Icon name='folder' />\n        Arquivos\n      </Menu.Item>\n      <Menu.Item as='a' onClick={openFileUpload}>\n        <Icon name='cloud upload' />\n        Enviar arquivo(s)\n      </Menu.Item>\n      <Menu.Item as='a' onClick={openFileUpload}>\n        <Icon name='users' />\n        Usuário(s)\n      </Menu.Item>\n      <Menu.Item as='a' onClick={openSettings}>\n        <Icon name='chart pie' />\n        Estatísticas\n      </Menu.Item>\n      <Menu.Item as='a' onClick={openPlan}>\n        <Icon name='ordered list' />\n        Plano de Classificação Funcional\n      </Menu.Item>\n      <Menu.Item as='a' onClick={signOut}>\n        <Icon name='sign-out' />\n        Sair\n      </Menu.Item>\n    </Sidebar>\n  )\n}","// File utilities\n\nexport function formatBytes(bytes, decimals = 2) {\n  // Returns bytes formatted like 5MB\n  // https://stackoverflow.com/a/18650828/8748307\n  if (bytes === 0) return '0 Bytes'\n\n  const k = 1024\n  const dm = decimals < 0 ? 0 : decimals\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i]\n}\n\nexport function formatDatetime(date) {\n  // Returns datetime formated like\n  const tzOffsetMs = new Date().getTimezoneOffset() * 60 * 1000 // Get local timezone offset\n  const localDatetime = new Date(new Date(date) - tzOffsetMs) // Subtract tz offset from datetime to get local datetime\n  return localDatetime.toISOString().slice(0, 19).replace(/-/g, \"/\").replace(\"T\", \" at \") // ISO format and return local datetime\n}\n\nexport function getIconByMIMEType (fileType, isFolder) {\n  // Returns a font awesome icon name for a specified file type\n  const icons = [ // Array of MIME type prefixes and their associated file icons. The first match is used, so place more specific types higher.\n    ['application/vnd.ms-powerpoint', 'file powerpoint'],\n    ['application/vnd.openxmlformats-officedocument.presentationml.presentation', 'file powerpoint'],\n    ['application/msword', 'file text'],\n    ['application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'file text'],\n    ['application/vnd.ms-excel', 'file excel'],\n    ['application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', 'file excel'],\n    ['application/gzip', 'file archive'],\n    ['application/vnd.rar', 'file archive'],\n    ['application/x-tar', 'file archive'],\n    ['application/x-7z-compressed', 'file archive'],\n    ['application/zip', 'file archive'],\n    ['application/x-httpd-php', 'php'],\n    ['application/pdf', 'file pdf'],\n    ['text/javascript', 'js square'],\n    ['text/html', 'html5'],\n    ['text', 'file text'],\n    ['video', 'video'],\n    ['audio', 'file audio'],\n    ['font', 'font'],\n    ['image', 'image'],\n  ]\n\n  return isFolder ? 'pasta' :\n    (icons.find(([mimeType]) => fileType.startsWith(mimeType)) || ['unknown', 'file'])[1]\n}\n\nexport default () => {}","import React, { useState } from 'react'\nimport './FileCard.css'\nimport { Card, List, ButtonGroup, Button, Icon, Dropdown, Checkbox, Dimmer, Image } from 'semantic-ui-react'\nimport { getIconByMIMEType } from '../../util/fileutil'\nimport CountUp from 'react-countup';\n\n\nconst FileCard = ({ cardType, isFolder, name, size, count, fileType, lastMod, isDimmed, checkIsPublic, onDelete, onRename, onMove, onClickItem, onInfo, onDownload, onDownloadRedacted, onSetPublic}) => {\n  const [isPublic, setIsPublic] = useState(false)\n\n  const fileIcon = getIconByMIMEType(fileType, isFolder)\n  const imageIcon1 = './images/wireframe/'+fileIcon+'.png';\n  const imageIcon = './images/wireframe/'+name+'.png';\n\n  if (name.length >= 45 ) {\n    name = name.substring(0,35)+\"...\"\n\n  }\n\n  if (cardType === 'list') { // File card for list view\n    return (\n      <List.Item className={isFolder ? 'folder-card' : ''}>\n        <List.Icon name={fileIcon} size='large' verticalAlign='middle' />\n        <List.Content>\n          <Dimmer.Dimmable dimmed={isDimmed}>\n            <Dimmer active={isDimmed} inverted/>\n\n            <List.Header><a href='#' onClick={onClickItem}>{name}</a>\n              <Dropdown onClick={async () => setIsPublic(await checkIsPublic())}>\n                <Dropdown.Menu>\n                  <Dropdown.Item icon='cloud download' text='Download' />\n                  <Dropdown.Item icon='download' text='Baixar' disabled={isFolder} onClick={() => onDownload(isPublic)} />\n                  <Dropdown.Item icon={isPublic ? 'lock' : 'unlock'} text={isPublic ? 'Tornar privado' : 'Tornar público'} disabled={isFolder} onClick={() => {onSetPublic(!isPublic)}}/>\n                  <Dropdown.Divider/>\n                  <Dropdown.Item icon='arrow right' text='Mover' disabled={isFolder} onClick={onMove} />\n                  <Dropdown.Item icon='edit' text='Renomear' disabled={isFolder} onClick={onRename} />\n                  <Dropdown.Item icon='trash' text='Deletar' onClick={onDelete} />\n                </Dropdown.Menu>\n              </Dropdown>\n            </List.Header>\n            <List.Description>\n              {!isFolder && size}\n              {isFolder ? 'pasta' : ` \\u00B7 ${fileType} `}\n              {!isFolder && ` \\u00B7 última modificação ${lastMod} `}\n            </List.Description>\n          </Dimmer.Dimmable>\n        </List.Content>\n      </List.Item>\n    )\n  } else { // File card for card view\n\n    if (isFolder) {\n      return (\n        <>\n        { !isDimmed && <a href='#' onClick={onClickItem} style={{padding:5}}><Card className={isFolder ? 'folder-card' : ''} >\n          <center><Image src={isFolder ? imageIcon  : imageIcon1} width={100} style={{padding:5}}/></center>\n          <Card.Content>\n            <Card.Header><center>{name}</center></Card.Header>\n            <Card.Meta>Último em 12/03/04 15:23:42</Card.Meta>\n            <Card.Description>\n              <b>Classificação: </b> 01.02.22 <br>\n              </br><b>Finalidade:</b><br></br>\n              Coletar dados referentes as<br></br>\n              atividades jurídicas da Prefeitura\n\n            </Card.Description>\n          </Card.Content>\n          <Card.Content extra><b>\n            <a>\n              <Icon name='file pdf outline' />\n              <CountUp start={count} end={count} decimals={0} separator=\".\" suffix=\" Arquivos\"/> \n            </a>&nbsp;\n            <a>\n              <Icon name='file outline' />\n              <CountUp start={1100} end={1100} decimals={0} separator=\".\" suffix=\" Páginas\"/> \n            </a></b>\n          </Card.Content>\n        </Card> </a>}\n        </>\n      )\n\n    }\n    //onClick={() => onDownload()}\n    //onClick={onClickItem}\n    else {\n    return (\n      <>\n      { !isDimmed && <Card className={isFolder ? 'folder-card' : ''} >\n        <center><Image src={isFolder ? imageIcon  : imageIcon1} width={90} style={{padding:5}}/></center>\n        <Card.Content>\n          <Card.Header><center>{name}</center></Card.Header>\n          <Card.Meta>Salvo em 12/03/04 15:23:42</Card.Meta>\n          <Card.Description>\n          <b>Classificação:</b>  01.02.04.53<br></br>\n              <b>Tipo de documento:</b><br></br>\n              NOTAS DE EMPENHO<br></br><br></br><center>\n              <ButtonGroup basic size='small'>\n              <Button icon='eye slash' onClick={() => onDownloadRedacted()}/>\n              <Button icon='lock' onClick={() => onDownload()}/>\n              <Button icon='lock open' />\n              <Button icon='info circle' />\n              <Button icon='mail forward' />\n            </ButtonGroup></center>\n            </Card.Description>\n        </Card.Content>\n        <Card.Content extra><b>\n          <a>\n            <Icon name='file outline' />\n            10 Páginas\n          </a>&nbsp;\n          <a>\n            <Icon name='lock' />\n            10 Dados LGPD\n          </a></b>\n          \n        </Card.Content>\n      </Card> }\n      </>\n    )\n  }\n}\n}\n\nexport default FileCard","import axiosLib from 'axios'\nimport config from '../config'\n\nconst axios = axiosLib.create({\n  baseURL: config.APIEndpoint\n})\n\nconst reqConfig = obj => ({\n  headers: {\n    'Authorization': `Bearer ${obj.idToken}`\n  }\n})\n\nexport default {\n  idToken: null,\n  getFiles () {\n    return axios.get('/get-files', reqConfig(this))\n  },\n  getFilesSearch (todo) {\n    todo = todo.toUpperCase();\n    return axios.post('/get-files-search', {\n      todo\n    }, reqConfig(this))\n  },\n  checkIsPublic (path) {\n    return axios.head(config.BucketUrl + path + `?bc_timestamp=${new Date().getTime()}`) // Append unused query param to ensure that browser cache is bypassed.\n      .then(res => res.status === 200)\n      .catch(res => false)\n  },\n  setPublicOrPrivate (filepath, pub) {\n    return axios.post(pub ? '/set-public' : '/set-private', {\n      filepath\n    }, reqConfig(this))\n  },\n  getSharableUrl (filepath, download) {\n    return axios.post('/get-share-url', {\n      filepath,\n      download\n    }, reqConfig(this))\n      .then(res => res.data)\n  },\n  getSharableUrlRedacted (filepath, download) {\n    return axios.post('/get-share-url-redacted', {\n      filepath,\n      download\n    }, reqConfig(this))\n      .then(res => res.data)\n  },\n  addFolder (folderpath) {\n    return axios.post('/add-folder', {\n      folderpath\n    }, reqConfig(this))\n  },\n  deleteFile (filepath) {\n    return axios.post('/delete-file', {\n      filepath\n    }, reqConfig(this))\n  },\n  moveFile (filepath, destination) {\n    return axios.post('/move-file', {\n      filepath,\n      destination\n    }, reqConfig(this))\n      .then(res => res.data)\n  },\n  getNewUploadPolicy (filepath, fileContentType, fileSize) {\n    return axios.post('/get-new-upload-policy', {\n      filepath,\n      fileContentType,\n      fileSize,\n    }, reqConfig(this))\n      .then(res => res.data)\n  },\n  postFile (uploadPolicy, file, progressCb) {\n    const data = new FormData()\n    for (const [key, value] of Object.entries(uploadPolicy.fields)) { // Add form fields, including policy and signature, to formdata\n      data.append(key, value)\n    }\n    data.append('file', file) // Add the file to the formdata\n\n    const cancelTokenSource = axiosLib.CancelToken.source()\n\n    const uploadPromise = axiosLib.post(uploadPolicy.url, data, { // Use the axiosLib because it's a different API baseURL\n      onUploadProgress: (p) => progressCb(p.loaded / p.total),\n      cancelToken: cancelTokenSource.token\n    })\n\n    return [uploadPromise, () => cancelTokenSource.cancel()]\n  },\n  getSettings () {\n    return axios.get('/get-settings', reqConfig(this))\n      .then(res => res.data.settings)\n  },\n  getPlan () {\n    return axios.get('/get-plan', reqConfig(this))\n      .then(res => JSON.parse(JSON.stringify(res.data.plan)))\n  },\n  saveSettings (settings) {\n    return axios.post('/save-settings', {\n      settings\n    }, reqConfig(this))\n      .then(res => res.data)\n  },\n  getData (id) {\n    return axios.post('/get-data', {\n      id\n    }, reqConfig(this))\n      .then(res => res.data)\n  },\n  getData2 (id) {\n    return axios.post('/get-data2', {\n      id\n    }, reqConfig(this))\n      .then(res => res.data)\n  }\n  \n  \n}","import React, { useState, useEffect } from 'react'\nimport { Button, Icon, Image, Modal, Dimmer, Loader } from 'semantic-ui-react'\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from \"chart.js\";\nimport { Doughnut } from \"react-chartjs-2\";\nimport { toast } from 'react-toastify'\nimport api from '../../api/storage'\nimport parse from 'html-react-parser';\n\nconst InfoModal = ({ open, closeModal, idarquivo, filepath }) => {\n\n  const [infodata, setData] = useState({})\n  const [notLoaded, setNotLoaded] = useState(true)\n  const [data, setarData] = useState({})\n  var [tabela2, setarString] = useState({})\n\n\n  var quote_name = [];\n  var quote_phone = [];\n  var quote_email = [];\n  var quote_birth = [];\n  var quote_gender = [];\n  var quote_marital = [];\n  var quote_address = [];\n  var quote_cpf = [];\n  var quote_ethnic = [];\n  var quote_medical = [];\n  var total = [];\n  var total_names = [];\n  var ver = false;\n  var aaa = \"\";\n  var tabela = \"\"\n\n  const dados = (dados) => {\n\n    dados.forEach(function (dado) {\n      if (dado.name === 'PERSON_NAME') {\n        quote_name.push(dado.quote)\n    }\n    if (dado.name === 'PHONE_NUMBER') {\n        quote_phone.push(dado.quote)\n    }\n    if (dado.name === 'EMAIL_ADDRESS') {\n        quote_email.push(dado.quote)\n    }\n    if (dado.name === 'DATE_OF_BIRTH') {\n        quote_birth.push(dado.quote)\n    }\n    if (dado.name === 'GENDER') {\n        quote_gender.push(dado.quote)\n    }\n    if (dado.name === 'MARITAL_STATUS') {\n        quote_marital.push(dado.quote)\n    }\n    if (dado.name === 'STREET_ADDRESS') {\n        quote_address.push(dado.quote)\n    }\n    if (dado.name === 'BRAZIL_CPF_NUMBER') {\n        quote_cpf.push(dado.quote)\n    }\n    if (dado.name === 'ETHNIC_GROUP') {\n        quote_ethnic.push(dado.quote)\n    }\n    if (dado.name === 'MEDICAL_TERM') {\n        quote_medical.push(dado.quote)\n    }\n      \n  });\n\n  if (quote_name.length > 0 ) {\n    total.push(quote_name.length)\n    total_names.push(\"Nome\")\n    let uniqueElements = [...new Set(quote_name)];\n    const elementCounts = uniqueElements.map(value => [value, quote_name.filter(str => str === value).length]);\n    for (let x = 0; x < elementCounts.length; x++) {\n      tabela += \"<tr>\"\n      if (x===0) {\n      tabela += \"<td rowSpan='\"+(elementCounts.length)+\"' style='font-weight: 700'>Nome</td>\"\n      }\n      tabela += \"<td>\"+((elementCounts[x][0].length < 45) ? elementCounts[x][0] : elementCounts[x][0].substring(0,45)+'...')+\"</td>\"\n      tabela += \"<td className='right aligned'>\"+elementCounts[x][1]+\"x</td>\"//undefined || 3000;\n      tabela += \"<td className='center aligned'><i className='large green checkmark icon'></i></td><td></td></tr>\"\n    };\n  }\nif (quote_phone.length > 0 ) {\n    total.push(quote_phone.length)\n    total_names.push(\"Telefone\")\n    let uniqueElements = [...new Set(quote_phone)];\n    const elementCounts = uniqueElements.map(value => [value, quote_phone.filter(str => str === value).length]);\n    for (let x = 0; x < elementCounts.length; x++) {\n      tabela += \"<tr>\"\n      if (x===0) {\n      tabela += \"<td rowSpan='\"+(elementCounts.length)+\"' style='font-weight: 700'>Telefone</td>\"\n      }\n      tabela += \"<td>\"+((elementCounts[x][0].length < 45) ? elementCounts[x][0] : elementCounts[x][0].substring(0,45)+'...')+\"</td>\"\n      tabela += \"<td className='right aligned'>\"+elementCounts[x][1]+\"x</td>\"\n      tabela += \"<td className='center aligned'><i className='large green checkmark icon'></i></td><td></td></tr>\"\n    };\n\n  }\nif (quote_email.length > 0 ) {\n    total.push(quote_email.length)\n    total_names.push(\"Email\")\n    let uniqueElements = [...new Set(quote_email)];\n    const elementCounts = uniqueElements.map(value => [value, quote_email.filter(str => str === value).length]);\n    for (let x = 0; x < elementCounts.length; x++) {\n      tabela += \"<tr>\"\n      if (x===0) {\n      tabela += \"<td rowSpan='\"+(elementCounts.length)+\"' style='font-weight: 700'>Email</td>\"\n      }\n      tabela += \"<td>\"+((elementCounts[x][0].length < 45) ? elementCounts[x][0] : elementCounts[x][0].substring(0,45)+'...')+\"</td>\"\n      tabela += \"<td className='right aligned'>\"+elementCounts[x][1]+\"x</td>\"\n      tabela += \"<td className='center aligned'><i className='large green checkmark icon'></i></td><td></td></tr>\"\n    };\n  }\nif (quote_birth.length > 0 ) {\n    total.push(quote_birth.length)\n    total_names.push(\"Nascimento\")\n    let uniqueElements = [...new Set(quote_birth)];\n    const elementCounts = uniqueElements.map(value => [value, quote_birth.filter(str => str === value).length]);\n    for (let x = 0; x < elementCounts.length; x++) {\n      tabela += \"<tr>\"\n      if (x===0) {\n      tabela += \"<td rowSpan='\"+(elementCounts.length)+\"' style='font-weight: 700'>Nascimento</td>\"\n      }\n      tabela += \"<td>\"+((elementCounts[x][0].length < 45) ? elementCounts[x][0] : elementCounts[x][0].substring(0,45)+'...')+\"</td>\"\n      tabela += \"<td className='right aligned'>\"+elementCounts[x][1]+\"x</td>\"\n      tabela += \"<td className='center aligned'><i className='large green checkmark icon'></i></td><td></td></tr>\"\n    };\n\n  }\nif (quote_gender.length > 0 ) {\n    total.push(quote_gender.length)\n    total_names.push(\"Gênero\")\n    let uniqueElements = [...new Set(quote_gender)];\n    const elementCounts = uniqueElements.map(value => [value, quote_gender.filter(str => str === value).length]);\n    for (let x = 0; x < elementCounts.length; x++) {\n      tabela += \"<tr>\"\n      if (x===0) {\n      tabela += \"<td rowSpan='\"+(elementCounts.length)+\"' style='font-weight: 700'>Gênero</td>\"\n      }\n      tabela += \"<td>\"+((elementCounts[x][0].length < 45) ? elementCounts[x][0] : elementCounts[x][0].substring(0,45)+'...')+\"</td>\"\n      tabela += \"<td className='right aligned'>\"+elementCounts[x][1]+\"x</td>\"\n      tabela += \"<td className='center aligned'><i className='large green checkmark icon'></i></td><td></td></tr>\"\n    };\n  }\nif (quote_marital.length > 0 ) {\n    total.push(quote_marital.length)\n    total_names.push(\"Estado civil\")\n    let uniqueElements = [...new Set(quote_marital)];\n    const elementCounts = uniqueElements.map(value => [value, quote_marital.filter(str => str === value).length]);\n    for (let x = 0; x < elementCounts.length; x++) {\n      tabela += \"<tr>\"\n      if (x===0) {\n      tabela += \"<td rowSpan='\"+(elementCounts.length)+\"' style='font-weight: 700'>Estado civil</td>\"\n      }\n      tabela += \"<td>\"+((elementCounts[x][0].length < 45) ? elementCounts[x][0] : elementCounts[x][0].substring(0,45)+'...')+\"</td>\"\n      tabela += \"<td className='right aligned'>\"+elementCounts[x][1]+\"x</td>\"\n      tabela += \"<td className='center aligned'><i className='large green checkmark icon'></i></td><td></td></tr>\"\n    };\n  }\nif (quote_address.length > 0 ) {\n    total.push(quote_address.length)\n    total_names.push(\"Endereço\")\n    let uniqueElements = [...new Set(quote_address)];\n    const elementCounts = uniqueElements.map(value => [value, quote_address.filter(str => str === value).length]);\n    for (let x = 0; x < elementCounts.length; x++) {\n      tabela += \"<tr>\"\n      if (x===0) {\n      tabela += \"<td rowSpan='\"+(elementCounts.length)+\"' style='font-weight: 700'>Endereço</td>\"\n      }\n      tabela += \"<td>\"+((elementCounts[x][0].length < 45) ? elementCounts[x][0] : elementCounts[x][0].substring(0,45)+'...')+\"</td>\"\n      tabela += \"<td className='right aligned'>\"+elementCounts[x][1]+\"x</td>\"\n      tabela += \"<td className='center aligned'><i className='large green checkmark icon'></i></td><td></td></tr>\"\n    };\n  }\nif (quote_cpf.length > 0 ) {\n    total.push(quote_cpf.length)\n    total_names.push(\"CPF\")\n    let uniqueElements = [...new Set(quote_cpf)];\n    const elementCounts = uniqueElements.map(value => [value, quote_cpf.filter(str => str === value).length]);\n    for (let x = 0; x < elementCounts.length; x++) {\n      tabela += \"<tr>\"\n      if (x===0) {\n      tabela += \"<td rowSpan='\"+(elementCounts.length)+\"' style='font-weight: 700'>CPF</td>\"\n      }\n      tabela += \"<td>\"+((elementCounts[x][0].length < 45) ? elementCounts[x][0] : elementCounts[x][0].substring(0,45)+'...')+\"</td>\"\n      tabela += \"<td className='right aligned'>\"+elementCounts[x][1]+\"x</td>\"\n      tabela += \"<td className='center aligned'><i className='large green checkmark icon'></i></td><td></td></tr>\"\n    };\n  }\nif (quote_ethnic.length > 0 ) {\n    total.push(quote_ethnic.length)\n    total_names.push(\"Raça\")\n    let uniqueElements = [...new Set(quote_ethnic)];\n    const elementCounts = uniqueElements.map(value => [value, quote_ethnic.filter(str => str === value).length]);\n    for (let x = 0; x < elementCounts.length; x++) {\n      tabela += \"<tr>\"\n      if (x===0) {\n      tabela += \"<td rowSpan='\"+(elementCounts.length)+\"' style='font-weight: 700'>Raça</td>\"\n      }\n      tabela += \"<td>\"+((elementCounts[x][0].length < 45) ? elementCounts[x][0] : elementCounts[x][0].substring(0,45)+'...')+\"</td>\"\n      tabela += \"<td className='right aligned'>\"+elementCounts[x][1]+\"x</td>\"\n      tabela += \"<td className='center aligned'><i className='large green checkmark icon'></i></td><td></td></tr>\"\n    };\n  }\nif (quote_medical.length > 0 ) {\n    total.push(quote_medical.length)\n    total_names.push(\"Termo médico\")\n    let uniqueElements = [...new Set(quote_medical)];\n    const elementCounts = uniqueElements.map(value => [value, quote_medical.filter(str => str === value).length]);\n    for (let x = 0; x < elementCounts.length; x++) {\n      tabela += \"<tr>\"\n      if (x===0) {\n      tabela += \"<td rowSpan='\"+(elementCounts.length)+\"' style='font-weight: 700'>Prontuário</td>\"\n      }\n      tabela += \"<td>\"+((elementCounts[x][0].length < 45) ? elementCounts[x][0] : elementCounts[x][0].substring(0,45)+'...')+\"</td>\"\n      tabela += \"<td className='right aligned'>\"+elementCounts[x][1]+\"x</td>\"\n      tabela += \"<td className='center aligned'><i className='large green checkmark icon'></i></td><td></td></tr>\"\n    };\n  }\n\n  var data2 = {\n    labels: total_names,\n    datasets: [\n      {\n        data: total,\n        backgroundColor: [\n          'rgba(255, 99, 132, 1)',\n          'rgba(54, 162, 235, 1)',\n          'rgba(255, 206, 86, 1)',\n          'rgba(75, 192, 192, 1)',\n          'rgba(153, 102, 255, 1)',\n          'rgba(255, 159, 64, 1)',\n          'rgba(255, 99, 132, 1)',\n          'rgba(54, 162, 235, 1)',\n          'rgba(255, 206, 86, 1)',\n          'rgba(75, 192, 192, 1)',\n        ],\n        borderColor: [\n          'rgba(255, 99, 132, 1)',\n          'rgba(54, 162, 235, 1)',\n          'rgba(255, 206, 86, 1)',\n          'rgba(75, 192, 192, 1)',\n          'rgba(153, 102, 255, 1)',\n          'rgba(255, 159, 64, 1)',\n          'rgba(255, 99, 132, 1)',\n          'rgba(54, 162, 235, 1)',\n          'rgba(255, 206, 86, 1)',\n          'rgba(75, 192, 192, 1)',\n        ],\n        borderWidth: 1,\n      },\n    ],\n  };\n  \nreturn data2;\n}\n\n\n  useEffect(() => {\n    if (!open) return\n    setNotLoaded(true)\n    api.getData(idarquivo).then(s => {\n      setData({\n        ...s,\n        useData: true // Indicated that these aren't just the default settings\n      })\n      setarData(dados(s))\n      setarString(tabela)\n      console.log(\"doc\"+idarquivo)\n      console.log(\"filepath\"+filepath)\n\n      \n      setNotLoaded(false)\n\n\n    })\n    api.getData2(idarquivo).then(s => {\n      setData({\n        ...s,\n        useData: true // Indicated that these aren't just the default settings\n      })\n      console.log(s.highlight)\n\n\n    })\n  }, [open])\n\n  const close = () => {closeModal()}\n\nChartJS.register(ArcElement, Tooltip, Legend);\n\nvar oi = parse(tabela2.toString())\nconsole.log(tabela2)\n  return (\n    <Modal open={open} onClose={close} size='large' centered={false} dimmer='inverted'>\n\n      <Modal.Header ><center>{filepath}</center></Modal.Header>\n      <Modal.Content image scrolling>\n      <Dimmer active={notLoaded} inverted>\n            <Loader size='large'>Loading...</Loader>\n          </Dimmer>\n      <div style={{height:\"auto\",position:\"relative\", marginBottom:\"1%\", padding:\"1%\"}}>\n      {\n          notLoaded\n          ? null\n          : (\n            <Doughnut data={data}/>\n\n          )\n        }\n</div>        <Modal.Description>\n\n\n\n<table className=\"ui celled structured table\">\n  <thead>\n    <tr>\n      <th rowSpan=\"2\" className=\"center aligned\">Categoria</th>\n      <th rowSpan=\"2\" className=\"center aligned\">Texto</th>\n      <th rowSpan=\"2\" className=\"center aligned\">X</th>\n      <th colSpan=\"2\" className=\"center aligned\">Tipo de dados:</th>\n    </tr>\n    <tr>\n      <th className=\"center aligned\">Pessoais</th>\n      <th className=\"center aligned\">Sensíveis</th>\n    </tr>\n  </thead>\n  <tbody>\n{oi}\n  </tbody>\n</table>\n        </Modal.Description>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button  primary>\n          Gerar relatório <Icon name='chevron right' />\n        </Button>\n      </Modal.Actions>\n    </Modal>\n  )\n\n}\n\nexport default InfoModal","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBY2tGVCpo0B4xujDcJzqjwbXqmEkGxt4k\",\r\n    authDomain: \"chequei.firebaseapp.com\",\r\n    databaseURL: \"https://chequei.firebaseio.com\",\r\n    projectId: \"chequei\",\r\n    storageBucket: \"chequei.appspot.com\",\r\n    messagingSenderId: \"493578038860\",\r\n    appId: \"1:493578038860:web:d17b8e5eaea2604654cee9\"\r\n  };\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst analytics = getAnalytics(app);\r\nexport const db = getFirestore(app);\r\n","import React, { useState, useEffect, useCallback } from 'react'\nimport './FileExplorer.css'\nimport { Header, Segment, Icon, Breadcrumb, List, Card, Button, Message, Modal, Form, Portal, Checkbox, Select, Input } from 'semantic-ui-react'\nimport { toast } from 'react-toastify'\nimport FileCard from '../FileCard/FileCard'\nimport { formatBytes, formatDatetime } from '../../util/fileutil'\nimport api from '../../api/storage'\nimport config from '../../config'\nimport InfoModal from '../InfoModal/InfoModal'\nimport {db} from './firebase';\nimport { collection, getDocs, query, where, onSnapshot  } from \"firebase/firestore\";\n\n\n\n\n\nconst FileExplorer = ({ idToken, profile, setExplorerPath, doRefresh, didRefresh }) => {\n\n\n  const [todos, setTodos] = useState([]);\n\nconst fetchPost = async () => {\n       \n  await getDocs(collection(db, \"saosimao_uploads\"))\n      .then((querySnapshot)=>{               \n          const newData = querySnapshot.docs\n              .map((doc) => ({...doc.data(), id:doc.id }));\n          setTodos(newData);     \n          console.log(\"testar\")  \n\n          //didRefresh()\n                    console.log(todos, newData);\n      })\n \n}\n\n\n\n\n\n\n  const [state, setState] = useState({\n    loading: false,\n    loadingError: false,\n    busca: false,\n    visible: true,\n    bucketName: 'objects',\n  })\n  const [path, setPathState] = useState([])\n  const [fileState, setFileState] = useState({\n    open: false,\n    file: '',\n    filepath: '',\n  })\n  const [files, setFiles] = useState([]) // All file objects\n  const [view, setView] = useState('grid')\n\n  const [ignoringFileStructure, setIgnoringFileStructure] = useState(false)\n\n  const [deletionState, setDeletionState] = useState({\n    open: false,\n    saving: false,\n    error: false,\n    file: '',\n    isFolder: false\n  })\n\n  const [fileToRename, setFileToRename] = useState({})\n\n\n  const [renameInputValue, setRenameInputValue] = useState('')\n  const [searchInputValue, setSearchInputValue] = useState('')\n\n\n  const [fileToMove, setFileToMove] = useState({})\n  const [fileMoveDestination, setFileMoveDestination] = useState({})\n  const setPath = (p) => { setPathState(p); setExplorerPath(p); }\n\n\n  const options = [\n    { key: 'qualquer', text: 'Contenha qualquer palavra', value: 'qualquer' },\n    { key: 'dados_pessoais', text: 'Contenha dados pessoais', value: 'dados_pessoais' },\n    { key: 'dados_sensiveis', text: 'Contenha dados sensíveis', value: 'dados_sensiveis' },\n  ]\n\n  const filesInPath = (p = path, ignoreFileStructure ) => files // Files and folders in current path, excluding full path in names, sorted with folders first.\n    .map(file => {\n      const isFolder = file.path.endsWith('/')\n      const splitPath = isFolder ? file.path.slice(0, -1).split('/') : file.path.split('/')\n      return {\n        ...file,\n        isFolder,\n        splitPath,\n        name: splitPath[splitPath.length - 1],\n      }\n    })\n    .filter(file => {\n      if (ignoreFileStructure) return true // Don't filter if ignoring file structure\n      if (file.splitPath === p || file.name.includes('.bucket.')) return false // If it's the folder itself or is a hidden file\n      if (!p.length && file.splitPath.length === 1) return true // This is a root file in the root path\n      return !!(file.splitPath.slice(0, -1).toString() === p.toString() && p.length) // If the file is in the right path, return true\n    })\n    .sort((first, second) => {\n      return second.isFolder - first.isFolder // Sort objects so that folders are first\n    })\n\n  const getFiles = () => {\n    setState({...state, loading: false, loadingError: false})\n    api.getFiles()\n      .then(({ data }) => {\n        console.log(data.files)\n        var resultados = []\n        for (var i = 0; i < data.files.length; i++){\n          if (data.files[i].size > 0 && data.files[i].path.substring(0,1) != \".\") {\n\n            var stringdividir = data.files[i].path.toString()+\"/\";\n            //\"Controladoria Geral/Departamento de Auditoria/PREFEITURA-2022 PAGAMENTOS REFERENTE A NOVEMBRO INICIO B FINAL C014.pdf\"\n\n            const split_caminho = data.files[i].path.toString().split(\"/\");\n            console.log(data.files[i].path.toString()+\" - tamanho: \"+split_caminho.length)\n            resultados.push(stringdividir.substring(0, stringdividir.indexOf(\"/\")))\n\n            for (var u=split_caminho.length-1; u > 0; u--) {\n              resultados.push(stringdividir.substring(0, stringdividir.lastIndexOf(\"/\")))\n              stringdividir = stringdividir.replace(split_caminho[u]+\"/\",\"\")\n            }\n\n            /*\n     split_caminho.forEach(element => {\n              //console.log(element)\n             resultados.push(element+\"/\")\n\n            });\n            */\n          }\n\n        }\nconsole.log(resultados)\nvar quantia_geral = []\n        for (var i = 0; i < data.files.length; i++){\n          var quantia = 0;\n\n\n            \n\n          for (var j = 0; j < resultados.length; j++){\n            var stringdividir = data.files[i].path.toString();\n\n            if (stringdividir === resultados[j]+\"/\" && (data.files[i].size == 0)) {\n\n              var quantia_array = resultados.filter(item => item === resultados[j]);\n              quantia = quantia_array.length;\n              console.log(data.files[i].path+ \" tem \"+quantia.length+ \" arquivo \"+j+i)\n              //console.log(quantia)\n\n\n            }\n\n        }\n\n        quantia_geral.push(quantia)\n        }\n\n        //console.log(quantia_geral)\n        \n        for (var i = 0; i < data.files.length; i++){\n          for (var j = 0; j < quantia_geral.length; j++){\n            data.files[i].count = quantia_geral[i]\n            //console.log(data.files[i])\n\n          }\n\n        }\n\n        setFiles(data.files)\n        setState({...state, loadingError: false, busca: false, loading: false, bucketName: data.bucket })\n      })\n      .catch(() => setState({ ...state, loading: true, loadingError: true }))\n  }\n\n  const getFilesSearch = () => {\n    setState({...state, loading: true, loadingError: false})\n    api.getFilesSearch(searchInputValue)\n      .then(({ data }) => {\n        console.log(data.files)\n        setIgnoringFileStructure(true)\n        setFiles(data.files)\n        setState({...state, loadingError: false, busca: true, loading: false, bucketName: data.bucket })\n      })\n      .catch(() => setState({ ...state, loading: true, loadingError: true }))\n  }\n\n  useEffect(() => {\n    // When idToken and doRefresh are set, refresh the files\n    if (!idToken || idToken.length < 3 || !doRefresh) return\n    setState({...state, loading: true})\n    getFiles()\n    didRefresh()\n    fetchPost()\n\n\n\n    const q = query(collection(db, \"saosimao_uploads\"));\n    let ver = 0;\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      snapshot.docChanges().forEach((change) => {\n        if (change.type === \"added\") {\n            if (ver > 0 ) {\n            console.log(\"New city: \", change.doc.data());\n            console.log(\"Modified city: \", change.doc.data());\n            var arquivo_curto = change.doc.data().file.toString().substring(change.doc.data().file.toString().lastIndexOf(\"/\")+1, change.doc.data().file.toString().length)\n            var nome_curto = change.doc.data().owner.toString().substring(0, change.doc.data().owner.toString().toString().indexOf(\" \"))\n            var paginas = change.doc.data().totalpages.toString();\n            var entidade = change.doc.data().entity.toString();\n            var documento = change.doc.data().documento.toString();\n            toast.info(arquivo_curto+\" - classificado como \"+documento+\" - contendo \"+paginas+\" páginas - adicionado por \"+nome_curto+\" para \"+entidade, {\n              position: \"top-center\",\n              theme: \"colored\",\n              \n            });\n            getFiles()\n            didRefresh()\n            fetchPost()\n          }\n    \n          ver++;\n    \n        }\n        if (change.type === \"modified\") {\n          if (ver > 0 ) {\n            console.log(\"Modified city: \", change.doc.data());\n            var arquivo_curto = change.doc.data().file.toString().substring(change.doc.data().file.toString().lastIndexOf(\"/\")+1, change.doc.data().file.toString().length)\n            var nome_curto = change.doc.data().owner.toString().substring(0, change.doc.data().owner.toString().toString().indexOf(\" \"))\n            var paginas = change.doc.data().totalpages.toString();\n            var entidade = change.doc.data().entity.toString();\n            var documento = change.doc.data().documento.toString();\n            toast.info(arquivo_curto+\" - classificado como \"+documento+\" - contendo \"+paginas+\" páginas - adicionado por \"+nome_curto+\" para \"+entidade, {\n              position: \"top-center\",\n              theme: \"colored\",\n            });\n            getFiles()\n            didRefresh()\n            fetchPost()\n          }\n        }\n        if (change.type === \"removed\") {\n            console.log(\"Removed city: \", change.doc.data());\n        }\n      });\n    \n    });\n\n\n\n\n\n  }, [idToken, doRefresh])\n\n\n\n\n\n  const deleteFile = () => {\n    setDeletionState({...deletionState, saving: true})\n    api.deleteFile(deletionState.file)\n      .then((res) => {\n        toast.dark(`✔️ ${deletionState.isFolder ? 'Pasta' : 'Arquivo'} deletado`)\n        if (res.data.deleted) setDeletionState({...deletionState, open: false, error: false, saving: false})\n        getFiles()\n      })\n      .catch((err) => {\n        setDeletionState({...deletionState, error: true, saving: false})\n      })\n  }\n\n  const renameFile = () => {\n    let newFilePath = fileToRename.path.split('/')\n    newFilePath[fileToRename.path.split('/').length - 1] = renameInputValue\n    api.moveFile(fileToRename.path, newFilePath.join('/'))\n      .then(data => {\n        if (!data.success) return Promise.reject()\n        toast.dark('🖊 Arquivo renomeado!')\n        setRenameInputValue('')\n        getFiles()\n      })\n      .catch(() => toast.dark(`❗ Não foi possível renomear o arquivo. Verifique se já não existe um arquivo com o mesmo nome.`))\n    setFileToRename({})\n  }\n\n  const infoFile = (id) => {\n    setFileState({...fileState, open: true, file: id.name, filepath: id.path})\n  }\n\n  const closeFile = () => {\n    setFileState({...fileState, open: false})\n  }\n\n  const moveFile = (moveToParent) => {\n    let destFolder = fileMoveDestination.splitPath\n    if (moveToParent) destFolder = fileToMove.splitPath.slice(0, -2) // Find parent dir of file (2 levels up from file itself)\n    api.moveFile(fileToMove.path, destFolder.concat(fileToMove.name).join('/'))\n      .then(data => {\n        if (!data.success) return Promise.reject()\n        toast.dark('🚚 Arquivo movido!')\n        setPath(destFolder)\n        getFiles()\n      })\n      .catch(() => toast.dark(`❗ Não foi possível mover o arquivo. Verifique se já não existe um arquivo com o mesmo nome nessa pasta.`))\n    setFileToMove({})\n  }\n\n  const fileCards = () => {\n    return filesInPath(path, ignoringFileStructure).map((file) => (\n        <FileCard\n          key={file.id}\n          cardType={view}\n          fileType={file.contentType}\n          isFolder={file.isFolder}\n          lastMod={formatDatetime(file.updated)}\n          name={ignoringFileStructure ? file.path : file.name}\n          size={formatBytes(file.size)}\n          count={file.count}\n          isDimmed={!!fileToMove.path && !file.isFolder}\n          onDelete={() => {\n            // If the folder isn't empty then don't delete (TODO recursive folder deletion)\n            if (file.isFolder && filesInPath(file.path.split('/').slice(0, -1)).length) return toast.dark('❌ Você deve excluir todos os arquivos desta pasta primeiro.')\n            setDeletionState({...deletionState, open: true, file: file.path, isFolder: file.isFolder})\n          }}\n          onRename={() => { setFileToRename(file); setRenameInputValue(file.name);}}\n          onMove={() => { setFileToMove(file); setFileMoveDestination({}); }}\n          onInfo={() => { infoFile(file) }} \n          onClickItem={async () => {\n            if (!!fileToMove.path) setFileMoveDestination(file) // The user is selecting a folder to move the file to\n            else if (file.isFolder) {\n              setIgnoringFileStructure(false)\n              setPath(file.path.slice(0, -1).split('/')) // Remove ending slash from folder path and split into separate folder names\n            } else {\n              if (await api.checkIsPublic(file.path)) {\n                navigator.clipboard.writeText(config.CDN_URL + file.path)\n                  .then(() => {\n                    toast.dark(\"📋 URL do arquivo copiado para a área de transferência\")\n                  })\n                  .catch(() => {\n                    toast.dark(`URL do arquivo: ${config.CDN_URL + file.path}`, {\n                      position: 'top-center',\n                      draggable: false,\n                      closeOnClick: false,\n                      autoClose: 10000\n                    })\n                  })\n              } else {\n                const {url, duration} = await api.getSharableUrl(file.path)\n                if (!url) toast.dark(\"🚫 Não foi possível obter a URL compartilhável. Tente tornar o arquivo público.\")\n                navigator.clipboard.writeText(url)\n                  .then(() => {\n                    toast.dark(`🔗 URL compartilhável copiada para a área de transferência. Vai expirar em ${duration} dias. Torne este arquivo público para obter um link público permanente.`, {\n                      autoClose: 8000\n                    })\n                  })\n                  .catch(() => {\n                    toast.dark(`URL compartilhável (irá expirar em ${duration} dias): ${url}`, {\n                      position: 'top-center',\n                      draggable: false,\n                      closeOnClick: false,\n                      autoClose: 10000\n                    })\n                  })\n              }\n            }\n          }}\n          onDownload={async (publicDownload) => {\n            if (publicDownload) {\n              window.open(file.downloadLink, '_blank')\n            } else {\n              const { url } = await api.getSharableUrl(file.path, true)\n              window.open(url, '_blank')\n            }\n          }}\n          onDownloadRedacted={async (publicDownload) => {\n            if (publicDownload) {\n              window.open(file.downloadLink, '_blank')\n            } else {\n              var fileRedacted = file.path.toString();\n              fileRedacted = fileRedacted.substring(fileRedacted.lastIndexOf(\"/\"), fileRedacted.length-4)+\"-redacted\"+fileRedacted.substring(fileRedacted.length-4, fileRedacted.length)\n              console.log(fileRedacted)\n              const { url } = await api.getSharableUrlRedacted(fileRedacted, true)\n              window.open(url, '_blank')\n            }\n          }}\n          checkIsPublic={() => api.checkIsPublic(file.path)}\n          onSetPublic={(pub) => {\n            api.setPublicOrPrivate(file.path, pub)\n              .then(() => {\n                toast.dark(pub ? \"🌎 O arquivo agora é público\" : \"🔑 O arquivo agora é privado\")\n              })\n              .catch(() => {\n                toast.dark(\"❓ aconteceu algo errado\")\n              })\n          }}\n        />\n      )\n    )\n  }\n\n  /*\n          <Button basic color='orange' size='tiny' onClick={() => setIgnoringFileStructure(!ignoringFileStructure)}>\n          <Icon name={ignoringFileStructure ? 'checkmark box' : 'square outline'}/>\n          Ignorar Estrutura de Pastas\n        </Button>\n        <Button.Group size='tiny'>\n          <Button icon basic={view === 'grid'} color='purple' onClick={() => setView('list')}>\n            <Icon name='list layout'/>\n          </Button>\n          <Button icon basic={view === 'list'} color='purple' onClick={() => setView('grid')}>\n            <Icon name='grid layout'/>\n          </Button>\n          </Button.Group>\n  */\n\n  return (\n    <div>\n\n      {/* Explorer controls */}\n      <div className='explorer-buttons'>\n        <Button icon='arrow alternate circle up' basic size='tiny' color='blue' onClick={() => setPath(path.slice(0, -1))}/>\n        <Button basic color='green' size='tiny' onClick={getFiles}>\n          <Icon name='refresh' loading={state.refreshing}/>\n          Atualizar\n        </Button>\n\n      <Input type='text' placeholder='Insira o texto...' onChange={e => setSearchInputValue(e.target.value)}>\n        <input />\n        <Select compact options={options} defaultValue='qualquer' />\n        <Button type='submit' color='blue' onClick={getFilesSearch}>Procurar</Button>\n      </Input>\n      </div>\n\n      {/* Folder breadcrumbs */}\n      <Breadcrumb>\n        <Icon name='folder open outline'/>\n        <Breadcrumb.Section link active={!path.length} onClick={() => setPath([])}>{state.bucketName.replace(\"saosimao_entrada\",\"Prefeitura de São Simão\")}</Breadcrumb.Section>\n        <Breadcrumb.Divider />\n        { ignoringFileStructure && <Breadcrumb.Section>todos os arquivos e pastas</Breadcrumb.Section>}\n        { !ignoringFileStructure &&\n          path.map((folderName, folderDepth) => (\n            <span>\n              <Breadcrumb.Section link active={path.length === folderDepth+1} onClick={() => setPath(path.slice(0, folderDepth + 1))}>{folderName}</Breadcrumb.Section>\n              <Breadcrumb.Divider />\n            </span>\n          ))\n        }\n      </Breadcrumb>\n\n      {/* File Explorer */}\n      <div className='files'>\n        {state.loading && <Message icon negative={state.loadingError}>\n          <Icon name={state.loadingError ? 'warning sign' : 'circle notched'} loading={!state.loadingError} />\n          <Message.Content>\n          <Message.Header>{ state.loadingError ? 'Ocorreu um erro' : 'Aguarde...' }</Message.Header>\n          { state.loadingError ? 'A solicitação falhou ou você não está autorizado a acessar esses arquivos. ' : 'Estamos pesquisando...' }\n          { state.loadingError && <a href='#' onClick={getFiles}>Tente novamente.</a> }\n          </Message.Content>\n          </Message>\n        }\n        { !filesInPath().length && !state.loading && !ignoringFileStructure && <p>Não há arquivos</p>}\n        { !filesInPath().length && !state.loading && ignoringFileStructure && <p>Pesquisa não encontrou arquivos</p>}\n\n        { view === 'list' ? (\n          <List divided relaxed>\n            {fileCards()}\n          </List>\n        ) : (\n          <Card.Group>\n            {fileCards()}\n          </Card.Group>\n        )}\n      </div>\n\n      {/* Delete Modal */}\n      <Modal basic open={deletionState.open} onClose={() => setDeletionState({...deletionState, open: false, error: false, saving: false})}>\n        <Header icon>\n          <Icon name='delete' />\n          Deletar {deletionState.isFolder ? 'pasta' : 'arquivo'}\n        </Header>\n        <Modal.Content>\n          <p style={{textAlign: 'center'}}>Tem certeza que quer deletar <span style={{ color: 'orange', fontWeight: 'bold'}}>{deletionState.file}</span>?\n          </p>\n          { deletionState.error && <p style={{textAlign: 'center', color: 'red'}}>Algo deu errado e não foi possível excluir esse arquivo.</p>}\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic color='blue' inverted onClick={() => setDeletionState({...deletionState, open: false, error: false, saving: false})}>\n            Não\n          </Button>\n          <Button color='red' inverted onClick={deleteFile}>\n            <Icon name='checkmark' /> { deletionState.saving ? 'Deletando...' : 'Sim' }\n          </Button>\n        </Modal.Actions>\n      </Modal>\n\n      {/*Rename Modal*/}\n      <Modal open={!!fileToRename.path} onClose={() => setFileToRename({})} size='mini'>\n        <Header icon>\n          <Icon name='edit' />\n          Renomear {fileToRename.name}\n        </Header>\n        <Modal.Content>\n          <Form as='div'>\n            <Form.Field>\n              <input placeholder='New name' value={renameInputValue} onChange={e => setRenameInputValue(e.target.value)}/>\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic color='blue' onClick={() => { setFileToRename({}); setRenameInputValue('');}}>\n            Cancelar\n          </Button>\n          <Button color='violet' onClick={renameFile}>\n            <Icon name='checkmark' />\n            Renomear\n          </Button>\n        </Modal.Actions>\n      </Modal>\n\n      {/* Info Modal*/}\n      <InfoModal\n        basic open={fileState.open}\n        idarquivo =  {fileState.file.replace(/[^\\p{L}\\p{N}]+/gu, '')} //.substring(lastIndexOf('/', lastIndexOf+16 ))\n        filepath = {fileState.filepath}\n        closeModal={() => closeFile()}\n      />\n\n      {/* File Move Popup*/}\n      <Portal open={!!fileToMove.path} onClose={() => setFileToMove({})} closeOnDocumentClick={false}>\n        <div className='file-move-portal' style={{ position: 'fixed' }}>\n          <Segment className='file-move-portal-segment'>\n\n            <p>{ !fileMoveDestination.name ? `Selecione a pasta para a qual deseja mover este arquivo.` :\n              `Mover ${fileToMove.name} into ${fileMoveDestination.name}?`}\n            </p>\n\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n              <Button\n                style={{ display: 'inline-block' }}\n                size='small'\n                content='Cancelar'\n                color='purple'\n                onClick={() => setFileToMove({})}\n              />\n              { !fileMoveDestination.path && fileToMove.path && fileToMove.path.length > 1 && <Button\n                style={{ display: 'inline-block' }}\n                size='small'\n                content='Mover para principal'\n                color='blue'\n                onClick={() => moveFile(true)}\n              />}\n              { fileMoveDestination.name && <Button\n                style={{ display: 'inline-block' }}\n                size='small'\n                content='Confirmar'\n                color='green'\n                onClick={() => moveFile()}\n              />}\n            </div>\n          </Segment>\n        </div>\n      </Portal>\n    </div>\n  )\n  \n}\n\n\n\n\nexport default FileExplorer","import React, { useState, useEffect } from 'react'\nimport { Header, Icon, Modal, Button, Message } from 'semantic-ui-react'\nimport config from '../../config'\n\n\nconst GoogleAuth = ({ setIdToken, setProfile }) => {\n  const [ open, setOpen ] = useState(true) // Is the sign in modal open\n  const [ signingIn, setSigningIn ] = useState(true) // Is the user in the process of signing in\n  const [ error, setError ] = useState(false) // Has there been a sign in error\n\n  const SCOPES = 'profile email'\n  // let gauth // Google Auth Object\n\n  const onSuccess = (isSignedIn) => {\n    let user = window.gauth.currentUser.get()\n    let profile = user.getBasicProfile()\n    let tokenObj = user.getAuthResponse(true) // Get ID token\n    if (isSignedIn && user.hasGrantedScopes(SCOPES) && tokenObj) {\n      setIdToken(tokenObj.id_token)\n      setProfile({\n        name: profile.getName(),\n        imageUrl: profile.getImageUrl(),\n        email: profile.getEmail()\n      })\n      setOpen(false)\n    }\n  }\n\n  useEffect(() => {\n    window.gapi.load('auth2', () => {\n      window.gapi.auth2.init({\n        'client_id': config.googleClientId,\n        'scope': SCOPES,\n        'plugin_name': 'drive_bucket',\n        'ux_mode': 'redirect'\n      }).then((auth2) => {\n        window.gauth = auth2\n        window.gauth.isSignedIn.listen(onSuccess)\n        onSuccess(true)\n\n        setSigningIn(false)\n      })\n    })\n  }, [])\n\n  const signIn = () => {\n    window.gauth.signIn()\n      .then(() => {\n        onSuccess(true)\n      })\n      .catch((err) => {\n        console.error(err)\n        setError(true)\n      })\n  }\n\n  return (\n    <Modal\n      basic\n      centered\n      open={open}\n      size='small'\n    >\n      <Header icon>\n        <Icon name={error ? 'warning circle' : (signingIn ? 'spinner' : 'sign in')} loading={signingIn && !error}/>\n        { error ? 'Erro' : 'Authenticando'}\n      </Header>\n      <Modal.Content>\n        <Button style={{display: 'block', margin: '0 auto'}} primary disabled={signingIn} onClick={() => {\n          setSigningIn(true)\n          signIn()\n        }}>Authenticar</Button>\n      </Modal.Content>\n    </Modal>\n  )\n}\n\nexport default GoogleAuth","import React, { useState, useReducer, useEffect, createRef } from 'react'\nimport styles from './FileUploadModal.module.css'\nimport { Modal, Button, Icon, List, Progress, Checkbox, Popup } from 'semantic-ui-react'\nimport { toast } from 'react-toastify'\nimport { formatBytes } from '../../util/fileutil'\n// import getDroppedOrSelectedFiles from '../../util/upload'\nimport api from '../../api/storage'\nimport axios from 'axios'\n\n\nlet uploadCancelFunc = () => {}\n\nconst initialUploadState = {\n  files: [],\n  status: '',\n  progress: 0,\n  totalProgress: 0,\n  totalUploadSize: 0,\n  totalUploadedSize: 0,\n  uploading: false,\n  error: false,\n  folderUpload: false,\n  uploadCancelled: false\n}\n\nfunction uploadStateReducer (state, action) {\n  switch (action.type) {\n    case 'reset':\n      if (action.betweenSteps) return {...state, status: action.status || '', progress: 0, error: false }\n      else {\n        uploadCancelFunc() // Cancel the current upload request.\n        return {...initialUploadState }\n      }\n    case 'setStatus':\n      return {...state, status: action.status}\n    case 'uploadError':\n      console.error(action.error)\n      return {...state, error: true, uploading: false, progress: 100, status: action.error + ' (preceding files successfully uploaded)'}\n    case 'setUploading':\n      return {...state, uploading: action.uploading}\n    case 'setProgress':\n      return {...state, progress: Math.round(action.rawProgress * 100 * 10) / 10}\n    case 'addUploadedAmount':\n      const totalUploadedSize = state.totalUploadedSize + action.amount\n      return {...state,\n        totalUploadedSize,\n        totalProgress: totalUploadedSize / state.totalUploadSize * 100\n      }\n    case 'setFiles':\n      let size = 0\n      for (const file of action.files) size += file.size || 0 // Count the total size of all the files\n      return {...state, files: action.files || [], totalUploadSize: size}\n    case 'switchFolderUpload':\n      return {...state, folderUpload: !state.folderUpload}\n  }\n}\n\nconst FileUploadModal = ({ open, closeModal, path, onSuccess }) => {\n  const fileInput = createRef()\n\n  const [state, dispatch] = useReducer(uploadStateReducer, initialUploadState)\n\n  const startUpload = async () => {\n    const shouldBePublic = (await api.getSettings()).defaultPublicFiles\n\n    const handleStepFail = (err, message) => {\n      console.error(err)\n      // Return a rejection so that the catch block is called\n      return Promise.reject(message)\n    }\n\n    for (const [i, file] of state.files.entries()) {\n      try {\n        dispatch({ type: 'reset', betweenSteps: true, status: 'Requesting upload policy...' })\n        const uploadPolicy = await api.getNewUploadPolicy(file.name, file.type, file.size) // Get upload policy for full file destination path.\n          .catch(err => handleStepFail(err, `Unable to get upload policy for file ${i+1}`))\n\n        dispatch({ type: 'setUploading', uploading: true })\n        dispatch({ type: 'setStatus', status: `Uploading file ${i + 1} of ${state.files.length}...` })\n\n        const [uploadPromise, cancelFunc] = api.postFile(uploadPolicy, file, (p) => dispatch({ type: 'setProgress', rawProgress: p })) // Post file and set progress callback\n        uploadCancelFunc = cancelFunc\n        let doBreak = false\n        await uploadPromise.catch(err => {\n          // If the error was an intentional axios cancel, don't handle it and instead exit the loop\n          if (axios.isCancel(err)) {\n            doBreak = true\n            return\n          }\n          return handleStepFail(err, `Unable to upload file ${i+1}`)\n        })\n        if (doBreak) break\n\n        dispatch({ type: 'addUploadedAmount', amount: file.size || 0}) // File was successfully uploaded, add its size to the counter.\n\n        dispatch({ type: 'setStatus', status: `Setting file ${shouldBePublic ? 'public' : 'private'}...` })\n        await api.setPublicOrPrivate(file.name, shouldBePublic)\n          .catch(err => handleStepFail(err, `Unable to make file ${i+1} ${shouldBePublic ? 'public' : 'private'}`))\n\n        if (i === state.files.length - 1) { // If that was the last file\n          toast.dark(\"🚀 All files uploaded!\")\n          dispatch({ type: 'reset' })\n          setTimeout(onSuccess, 1000) // Wait one second before closing modal and refreshing explorer\n        }\n      } catch (errorMessage) {\n        dispatch({ type: 'uploadError', error: errorMessage })\n        break\n      }\n    }\n  }\n\n  const onFilesChange = (event) => {\n    const parentPath = path.length ? path.join('/') + '/' : '' // Folder to upload files to\n    let fileArray = Array.from(event.target.files).map(file => {\n      const fileName = parentPath + (state.folderUpload ? file.webkitRelativePath : file.name) // The absolute destination path of file. webkitRelativePath is the relative path of the file on the user's FS.\n      const newFile = new File([file], fileName, { type: file.type })\n      return newFile\n    })\n    if (state.folderUpload) {\n      // If it's a folder upload we also have to generate files for each folder so that they show up in the file manager\n      let folderPaths = []\n      for (const file of fileArray) {\n        const fileParentFolder = file.name.split('/').slice(0, -1).join('/') + '/'\n        console.log(fileParentFolder)\n        if (!folderPaths.includes(fileParentFolder)) folderPaths.push(fileParentFolder)\n      }\n      folderPaths = folderPaths.map(folderName => new File([''], folderName))\n      fileArray = fileArray.concat(folderPaths)\n      console.log(fileArray)\n    }\n    dispatch({ type: 'setFiles', files: fileArray })\n  }\n\n  const fileList = state.files.map(file => (\n    <List.Item>\n      <span className={styles.fileListName}>\n        {file.name}\n      </span> - {formatBytes(file.size)}\n    </List.Item>\n  ))\n\n  return (\n    <div>\n      <Modal open={open}>\n        <Modal.Header>Upload Files</Modal.Header>\n        <Modal.Content>\n          <p>You can select multiple files or a single folder to upload. If you upload a folder, file structure will be preserved. Files will be uploaded to {(path || []).join('/') + '/'}.</p>\n\n          <Checkbox toggle label='Upload a folder' checked={state.folderUpload} onClick={() => dispatch({ type: 'switchFolderUpload' })} />\n          {/*<Popup content='' trigger={<Icon name='info circle' />} />*/}\n\n          <div className={styles.fileInputContainer}>\n            <input\n              style={{ display: 'none' }}\n              multiple\n              type='file'\n              webkitdirectory={state.folderUpload ? '' : undefined} // Seems redundant, but needed for some reason\n              mozdirectory={state.folderUpload ? '' : undefined}\n              msdirectory={state.folderUpload ? '' : undefined}\n              odirectory={state.folderUpload ? '' : undefined}\n              directory={state.folderUpload ? '' : undefined}\n              ref={fileInput}\n              onChange={onFilesChange}\n            />\n            <Button color='blue' size='huge' style={{ display: 'block', margin: '15px auto'}}  onClick={() => fileInput.current.click()} disabled={state.uploading}>\n              Select { state.folderUpload ? 'a Folder' : 'Files'}\n            </Button>\n          </div>\n\n          <div className={styles.fileList}>\n            <List>\n              {fileList}\n            </List>\n          </div>\n          <p style={{textAlign: 'right', marginRight: '30px', color: state.error ? 'red' : 'black'}}><strong>{state.status}</strong></p>\n          {state.status && <Progress percent={state.progress} color='teal' progress active={state.uploading} error={state.error} />}\n          {state.status && state.uploading && <Progress percent={state.totalProgress} color='violet'/>}\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color='black' onClick={() => { dispatch({ type: 'reset' }); closeModal();}}>\n            Cancel\n          </Button>\n          <Button color='orange' onClick={startUpload} disabled={!state.files.length || state.uploading}>\n            <Icon name='upload'/>\n            { state.uploading ? 'Uploading...' : 'Start Upload' }\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    </div>\n  )\n}\n\nexport default FileUploadModal","import React, { useState, useEffect } from 'react'\nimport { Modal, Button, Icon, Input,  } from 'semantic-ui-react'\nimport { toast } from 'react-toastify'\nimport api from '../../api/storage'\n\nconst FolderUploadModal = ({ open, closeModal, path, onSuccess }) => {\n  const [folderPath, setFolderPath] = useState('')\n  const [saving, setSaving] = useState(false)\n  const [error, setError] = useState(false)\n\n  const createFolder = () => {\n    setSaving(true)\n    api.addFolder(folderPath)\n      .then((res) => {\n        setSaving(false)\n        setError(false)\n        if (!res.data.saved) return\n        onSuccess()\n        toast.dark('📁 Folder created!')\n      })\n      .catch((err) => {\n        setSaving(false)\n        setError(true)\n      })\n  }\n\n  const close = () => {setError(false); setSaving(false); closeModal()}\n\n  return (\n    <div>\n      <Modal open={open} onClose={close} size='tiny'>\n        <Modal.Header>Create Folder</Modal.Header>\n        <Modal.Content>\n          <Modal.Description style={{ marginBottom: '15px'}}>\n            Your new folder will be created in the current directory.\n          </Modal.Description>\n          <Input\n            label={(path[path.length - 1] || '') + '/'}\n            placeholder='New Folder Name'\n            size='large'\n            onChange={e => setFolderPath((path.length? path.join('/') + '/' : '') + e.target.value)}\n          />\n          { error && <p style={{color: 'red', margin: '10px 0'}}>Something went wrong and we couldn't create that folder.</p>}\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color='black' onClick={close}>\n            Cancel\n          </Button>\n          <Button color='orange' onClick={createFolder}>\n            <Icon name='plus circle' loading={saving}/>\n            { saving ? 'Adding...' : 'Add Folder' }\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    </div>\n  )\n}\n\nexport default FolderUploadModal","import React, { useState, useEffect } from 'react'\nimport {Modal, Button, Checkbox, Icon, Form, Input, Label, Dimmer, Loader} from 'semantic-ui-react'\nimport { toast } from 'react-toastify'\nimport api from '../../api/storage'\n\nconst SettingsModal = ({ open, closeModal}) => {\n  // const [saving, setSaving] = useState(false)\n  // const [error, setError] = useState(false)\n\n  const [settings, setSettings] = useState({})\n\n  const [notLoaded, setNotLoaded] = useState(true)\n\n  useEffect(() => {\n    if (!open) return\n    setNotLoaded(true)\n    api.getSettings().then(s => {\n      // Default settings:\n      setSettings({\n        ...s,\n        useSettings: true // Indicated that these aren't just the default settings\n      })\n      setNotLoaded(false)\n    })\n  }, [open])\n\n  const saveSettings = () => {\n    // setSaving(true)\n    // setError(false)\n    api.saveSettings(settings)\n      .then(() => toast.dark('⚙️ Settings saved'))\n      .catch(err => toast.dark(`❌ An error occurred and we couldn't save your settings`))\n  }\n\n  const close = () => {saveSettings(); closeModal()}\n\n  return (\n    <div>\n      <Modal open={open} onClose={close} size='large' centered={false} dimmer='inverted'>\n        <Modal.Header>Options & Settings</Modal.Header>\n        <Modal.Content>\n          <Dimmer active={notLoaded} inverted>\n            <Loader size='large'>Loading...</Loader>\n          </Dimmer>\n\n          <Modal.Description style={{ marginBottom: '15px'}}>\n            Your settings will be saved in a file in your storage bucket.\n          </Modal.Description>\n          <Form>\n            <Form.Field>\n              <label>Default File Privacy</label>\n              <Checkbox\n                toggle\n                label={`Uploaded files are ${settings.defaultPublicFiles ? 'public' : 'private'} by default`}\n                checked={settings.defaultPublicFiles}\n                onClick={() => setSettings({...settings, defaultPublicFiles: !settings.defaultPublicFiles})}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label>Private URL Expiration</label>\n              <p>Shared links for private files will expire after</p>\n              <Form.Input type='number' labelPosition='right' inline onChange={e => setSettings({...settings, privateUrlExpiration: e.currentTarget.value})}>\n                <input value={settings.privateUrlExpiration}/>\n                <Label>days</Label>\n              </Form.Input>\n            </Form.Field>\n            <Form.Field>\n              <label>CDN Admins</label>\n              <p>Every email you add to this comma-separated list <strong>(no spaces)</strong> will have <strong>full read and write access to the storage bucket</strong> and settings. They will be able to sign into this dashboard with their Google account.</p>\n              <Input onChange={e => setSettings({...settings, cdnAdmins: e.currentTarget.value})}>\n                <input value={settings.cdnAdmins}/>\n              </Input>\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          {/*<p style={{color: error ? 'red' : 'green', fontWeight: 'bold'}}>*/}\n          {/*  {!saving && <Icon name='check'/>}*/}\n          {/*  { error ? `An error occurred.` : saving ? 'Saving your settings....' : 'Settings saved' }*/}\n          {/*</p>*/}\n          <Button onClick={close}>\n            Close\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    </div>\n  )\n}\n\nexport default SettingsModal","import React, { useState, useEffect } from 'react'\nimport {Modal, Button, Checkbox, Icon, Form, Input, Label, Dimmer, Loader} from 'semantic-ui-react'\nimport { toast } from 'react-toastify'\nimport api from '../../api/storage'\nimport TreeMenu from 'react-simple-tree-menu';\nimport '../../../node_modules/react-simple-tree-menu/dist/main.css';\n\n\nconst PlanModal = ({ open, closeModal}) => {\n\n\n\n  const [plans, setPlan] = useState({})\n\n  const [notLoaded, planNotLoaded] = useState(true)\n\n  useEffect(() => {\n    if (!open) return\n    planNotLoaded(true)\n    api.getPlan().then(s => {\n      // Default settings:\n      setPlan({\n        ...s,\n        usePlan: true // Indicated that these aren't just the default settings\n      })\n      planNotLoaded(false)\n    })\n  }, [open])\n\n\n  const close = () => {closeModal()}\n\n  return (\n    <div>\n      <Modal open={open} onClose={close} size='large' centered={false} dimmer='inverted'>\n        <Modal.Header>Plano de Classificação Funcional e Tabela de Temporalidade</Modal.Header>\n        <Modal.Content>\n          <Dimmer active={notLoaded} inverted>\n            <Loader size='large'>Carregando...</Loader>\n          </Dimmer>\n\n          <Modal.Description style={{ marginBottom: '15px'}}>\n            Clique sobre a classificação para ver a Tabela de Temporalidade\n          </Modal.Description>\n\n          <TreeMenu data={plans} />\n\n        </Modal.Content>\n        <Modal.Actions>\n          <Button onClick={close}>\n            Fechar\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    </div>\n  )\n}\n\nexport default PlanModal","import React, { useState } from 'react';\nimport logo from '../../assets/logo.svg';\nimport './App.css';\nimport { ToastContainer } from 'react-toastify'\nimport Sidebar from '../Sidebar/Sidebar'\nimport FileExplorer from '../FileExplorer/FileExplorer'\nimport Auth from '../GoogleAuth/GoogleAuth'\nimport FileUploadModal from '../FileUploadModal/FileUploadModal'\nimport FolderCreationModal from '../FolderCreationModal/FolderCreationModal'\nimport SettingsModal from '../SettingsModal/SettingsModal'\nimport PlanModal from '../PlanModal/PlanModal'\nimport InfoModal from '../InfoModal/InfoModal'\nimport api from '../../api/storage'\n\nfunction App() {\n  const [idToken, setIdToken] = useState('')\n  const [profile, setProfile] = useState({})\n\n  const [explorerPath, setExplorerPath] = useState('') // Current file explorer path\n  const [doRefresh, refreshExplorer] = useState(true)\n\n  const [fileUploadOpen, setFileUploadOpen] = useState(false)\n  const [folderCreatorOpen, setFolderCreatorOpen] = useState(false)\n  const [settingsOpen, setSettingsOpen] = useState(false)\n  const [planOpen, setPlanOpen] = useState(false)\n  const [dataOpen, setDataOpen] = useState(false)\n\n\n  return (\n    <div className=\"App\">\n      <nav>\n        <Sidebar\n          profile={profile}\n          openFileUpload={() => setFileUploadOpen(true)}\n          openFolderCreator={() => setFolderCreatorOpen(true)}\n          openSettings={() => setSettingsOpen(true)}\n          openPlan={() => setPlanOpen(true)}\n          openData={() => setDataOpen(true)}\n        />\n      </nav>\n      <Auth setIdToken={(t) => {\n        api.idToken = t\n        setIdToken(t)\n      }} setProfile={setProfile}/>\n      <section className='app-content'>\n        <FileExplorer\n          idToken={idToken}\n          profile={profile}\n          setExplorerPath={setExplorerPath}\n          doRefresh={doRefresh}\n          didRefresh={() => refreshExplorer(false)}\n        />\n      </section>\n      <FileUploadModal\n        open={fileUploadOpen}\n        closeModal={() => {setFileUploadOpen(false); refreshExplorer(true)}}\n        path={explorerPath}\n        onSuccess={() => {setFileUploadOpen(false); refreshExplorer(true)}}\n      />\n      <FolderCreationModal\n        open={folderCreatorOpen}\n        closeModal={() => setFolderCreatorOpen(false)}\n        path={explorerPath}\n        onSuccess={() => {setFolderCreatorOpen(false); refreshExplorer(true)}}\n      />\n      <SettingsModal\n        open={settingsOpen}\n        closeModal={() => setSettingsOpen(false)}\n      />\n      <PlanModal\n        open={planOpen}\n        closeModal={() => setPlanOpen(false)}\n      />\n      <InfoModal\n        open={dataOpen}\n        closeModal={() => setDataOpen(false)}\n      />\n      <ToastContainer\n        position=\"bottom-right\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n      />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport 'semantic-ui-css/semantic.min.css'\nimport 'react-toastify/dist/ReactToastify.min.css'\nimport App from './components/App/App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}